!function(n){var t=window.vm=new Vue({data:{mode:"pc",loading:!0,scanning:!1,url:"",registration:{}},el:"#scan-container",watch:{},methods:{check:function(){this.fetchInfo(this.url),this.url=""},startScan:function(){this.scanning=!0,this.focus()},endScan:function(){this.scanning=!1},focus:function(){this.$els.urlInput.focus()},scan:function(){var n=this;n.registration={},wx.ready(function(){wx.scanQRCode({needResult:1,scanType:["qrCode"],success:function(t){var i=t.resultStr;n.fetchInfo(i)}})})},fetchInfo:function(n){var t=n.split("code=").reverse()[0];if(t){var i=this;i.loading=!0,$.ajax({data:{code:t},dataType:"json",type:"post",success:function(n){0==n.status&&(i.registration=n.data)},complete:function(){i.loading=!1}})}},doAction:function(n){var t=this;t.loading=!0,$.ajax({data:{id:t.registration.id,action:n},dataType:"json",type:"post",success:function(n){0==n.status&&(t.registration=n.data)},complete:function(){t.loading=!1}})}},components:{}});wx.ready(function(){t.loading=!1,t.mode="wx"}),/MicroMessenger/i.test(navigator.userAgent)===!1&&(t.loading=!1,t.mode="pc",t.focus())}(this);